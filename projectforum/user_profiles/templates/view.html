{% extends "base.html" %}

{% block header %}
{% load static %}
<link rel="stylesheet" type="text/css"
        href="{% static 'external/jqueryraty/jquery.raty.css' %}">
<script src="{% static 'external/jqueryraty/jquery.raty.js' %}"></script>
{% endblock %}

{% block content %}
    {% if user_profile %}
        {% if can_edit %}
            <p>
                <a class='edit_profile_button' href="{% url 'profile:edit' user_profile.user.username %}">
                    Edit
                </a>
            </p>
        {% endif %}

        {% if user_profile.openToEmploy %}
            <p class='side_notice'>User is open to full-time employment.</p>
        {% endif %}

        <h2>User profile for {% firstof user_profile.user.get_full_name user_profile.user.username %}</h2>
        <div class='user_details'>
            <ul>
                <li>
                    <p>Email: {{ user_profile.user.email }}</a></p>
                </li>
                <li>
                    <p>Phone number: {{ user_profile.phone_number }}</p>
                </li>
            </ul>

            {% if user_profile.github or user_profile.linkedin or user_profile.personal %}
            <ul>
                {% if user_profile.github %}
                <li>
                    <p>Github: <a href="{{ user_profile.github }}">{{ user_profile.github }}</a></p>
                </li>
                {% endif %}
                {% if user_profile.linkedin %}
                <li>
                    <p>LinkedIn: <a href="{{ user_profile.linkedin }}">{{ user_profile.linkedin }}</a></p>
                </li>
                {% endif %}
                {% if user_profile.personal %}
                <li>
                    <p>Personal: <a href="{{ user_profile.personal }}">{{ user_profile.personal }}</a></p>
                </li>
                {% endif %}
            </ul>
            {% endif %}

            <p>Skills:</p>
            <ul class="user_skills">
                {% for skill_tag in user_profile.skills.all %}
                    <li>{{ skill_tag.skill }}</li>
                {% empty %}
                    <li>No skills listed.</li>
                {% endfor %}
            </ul>

            {% if user_profile.showPastProjects %}
                <p>Past Projects Here</p>
            {% endif %}

            {% if user_profile.showRatings %}
                <p>Ratings Here</p>
                {% for review in user_reviews %}
                    {{ review | safe}}
                {% endfor %}
            {% endif %}
        </div>
    {% else %}
        <p>No such user exists.</p>
    {% endif %}

    <!-- for static reviews  and input reviews-->
<script type="text/javascript">
    $(document).ready(function (){
        $(".review-score").raty({
            score: function() {
                return $(this).attr('data-score');
            },
            readOnly: true,
            path:'/static/images',
        });
    });
</script>

{% endblock %}
